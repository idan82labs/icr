{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://icr.dev/schemas/env_search.input.schema.json",
  "title": "env_search Input",
  "description": "Input schema for the env_search MCP tool",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "query": {
      "type": "string",
      "minLength": 1,
      "description": "Search query (semantic or keyword)"
    },
    "scope": {
      "type": "string",
      "enum": ["repo", "transcript", "diffs", "contracts", "all"],
      "description": "Scope to search within"
    },
    "path_prefix": {
      "type": "string",
      "description": "Filter results by path prefix"
    },
    "language": {
      "type": "string",
      "description": "Filter by programming language"
    },
    "time_window_seconds": {
      "type": "integer",
      "minimum": 0,
      "maximum": 31536000,
      "description": "Only include results from the last N seconds"
    },
    "limit": {
      "type": "integer",
      "minimum": 1,
      "maximum": 50,
      "description": "Maximum number of results to return"
    },
    "cursor": {
      "type": "string",
      "description": "Pagination cursor"
    },
    "explain": {
      "type": "boolean",
      "description": "Include explanation of why results matched"
    }
  },
  "required": ["query", "scope"]
}
